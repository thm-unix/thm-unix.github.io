# Планшет как второй монитор

## Вступление
Рад привествовать читателей блога. В этой статье хочу рассказать об одном из возможных вариантов использования 
старых планшетов (как Android, так и iOS). В настоящее время многим пользователям может не хватать одного
монитора для комфортной работы. И если на основной машине эта проблема решаема просто подключением
дополнительного монитора, то, когда у вас с собой ноутбук и под рукой нет монитора, такой возможности нет.
В этом случае как раз таки и пригодится планшет в качестве второго монитора.


## Требования
<ul>
  <li>Основная графика - интегрированная Intel</li>
  <li>Xorg</li>
  <li>Планшет</li>
</ul>


## Подготовка компьютера
1. Для начала установите пакеты `x11vnc` и `xf86-video-intel`.<br>
2. Далее нужно отредактировать конфиг файл Xorg, чтобы в системе появились виртуальные дисплеи <br>
Создайте файл `/usr/share/X11/xorg.conf.d/20-intel.conf` и напишите в него:<br>
```
Section "Device"
  Identifier "intelgpu0"
  Driver "intel"
  Option "VirtualHeads" "X"
EndSection
```
, где X - кол-во виртуальных дисплеев

3. Узнайте разрешение экрана и соотношение сторон экрана своего планшета<br>
В моем случае, это 2048x1536, соотношение 4:3 (iPad 4). Соотношение сторон понадобится в случае, если вы хотите установить разрешение меньше, чем у вашего планшета (я так и поступил, т.к. на 2048x1536 картинка слишком мелкая, а увеличивать масштаб лень).

4. Проверьте, как называется виртуальный дисплей, который вам нужен. В моем случае VIRTUAL1.<br>
`xrandr`

5. Пропишите в терминале `cvt w h 60 | grep 'Modeline' | sed 's/^Modeline //'`, где w - ширина, h - высота, 60 - частота обновления.<br>
Скопируйте результат вывода.

6. Создайте новый режим в xrandr: <br>
`xrandr --newmode ...`, где ... - скопированный результат вывода cvt

7. Добавьте созданный режим к виртуальному дисплею: <br>
`xrandr --addmode VIRTUALX ...`, где VIRTUALX - название виртуального дисплея, ... - скопированный результат вывода cvt. <br>

8. Установите расположение виртуального дисплея (можно через GUI настройки вашего DE): <br>
`xrandr --output VIRTUALX --right-of HOSTDSP`, где VIRTUALX - название виртуального дисплея, HOSTDSP - название основного дисплея.

9. Установите пароль VNC, если нужно: <br>
`x11vnc -storepasswd`

10. Запустите x11vnc сервер: <br>
`x11vnc -rfbauth ~/.vnc/passwd -multiptr -display :0 -clip VWxVH+HW+0`, где VW - ширина виртуального дисплея, VH - высота виртуального дисплея, HW - ширина вашего экрана.

P.S. Последние 4 шага нужно выполнять снова после каждой перезагрузки, поэтому лучше вписать их в .xinitrc, либо автозагрузку DE.


## Подготовка планшета
1. Установите любой VNC клиент на ваш планшет (можно с 4pda, если Google Play/App Store на старом устройстве уже нерабочий)

2. Узнайте IP вашего компьютера в локальной сети и порт, на котором запущен VNC сервер.<br>
`ip addr` - найдите IP возле нужного интерфейса. Порт x11vnc пишет при запуске в терминале. Как правило, это 5900.

3. Подключитесь к компьютеру с указанием IP, порта, имени пользователя (ваше в системе) и пароля (если есть).


## Заключение
Мы рассмотрели, как можно из старого устройства сделать переносной второй монитор. Спасибо за внимание!
