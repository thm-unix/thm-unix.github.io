<h1>(John the Ripper, Hydra, Hashcat). Подбор пароля к ZIP/MS Office/SSH/MD5/...</h1>

<b>Материал предоставлен в ознакомительных и образовательных целях.</b><br>

<b><i>Содержание</i></b><br>
<a href="#introduction">1. Введение. Требования.</a><br>
<a href="#ssh">2. Подбор пароля к SSH-серверу.</a><br>
<a href="#md5">3. Подбор значения MD5 (без соли).</a><br>
<a href="#zip">4. Подбор пароля к *.zip файлу.</a><br>
<a href="#msoffice">5. Подбор пароля к файлам MS Office.</a><br>
<a href="#unixpasswd">6. Подбор паролей из /etc/shadow.</a><br>
<a href="#crackstation">7. Подбор паролей онлайн.</a>
<a href="#end">8. Подведение итогов. Рекомендации по защите.</a><br>

<p><a name="introduction"></a></p>
<h2>Введение. Требования.</h2>
Рад приветствовать читателей. В этой статье я хочу разобрать подбор пароля к различным
файлам, серверам и т.д. Мы будем использовать несколько популярных утилит для этих
целей: John the Ripper, Hydra и Hashcat.<br>
Требования:
<ul>
  <li>Железо, способное нормально перебирать пароли (не используйте для этих целей 
    маломощные процессоры смартфонов/планшетов/..., сэкономите себе нервы)</li>
  <li>Словарь паролей (свой, либо скачанный в интернете)</li>
</ul>

<p><a name="ssh"></a></p>
<h2>Подбор пароля к SSH-серверу.</h2>
Для этого мы будем использовать утилиту Hydra. Для данных целей мы будем использовать
тестовый сервер sdf.org. Я создал на нем свою учетную запись, к которой мы и будем
подбирать пароль. Итак, входные данные:
<ul>
  <li>Адрес сервера: tty.sdf.org (205.166.94.9)</li>
  <li>Имя пользователя: thm</li>
  <li>Словарь паролей RockYou</li>
</ul> (не пытайтесь сейчас подобрать пароль, я его уже изменил).
Итак, синтаксис аргументов утилиты Hydra:
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(240, 240, 240) none repeat scroll 0% 0%; color: rgb(68, 68, 68);">hydra -l [login] -P [/path/to/wordlist] [target]</pre>
(если вы также хотите перебирать логины, то укажите -L вместо -l, а далее путь к файлу с логинами), где [login] - имя пользователя, к которому мы подбираем пароль (без скобок), [/path/to/wordlist] - путь к словарю паролей (без скобок), [target] - адрес сервера (без скобок).
Таким образом, наша команда будет выглядеть так:
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(240, 240, 240) none repeat scroll 0% 0%; color: rgb(68, 68, 68);">hydra -l thm -P rockyou.txt ssh://205.166.94.9</pre>
Теперь просто ждите, пока будет осуществлен подбор пароля. Если пароль будет успешно подобран, то вы получите сообщение такого рода:
<img src="hydra-ssh.png"><br>

<p><a name="md5"></a></p>
<h2>Подбор значения MD5 (без соли).</h2>
В этой части статьи мы будем подбирать значение к хеш-сумме MD5. В данном примере не будет использоваться <i>соль</i>.<br>
<b>Соль</b> - некая последовательность символов, которая добавляется к вашему паролю на сайте при регистрации. Таким образом, даже если БД сайта будет украдена, то злоумышленник не сможет подобрать пароль к вашей учетной записи, т.к. к простому паролю добавлена случайная последовательность символов, которой, разумеется, в словаре нет.<br>
Пример:<br>
<ul>
  <li>Допустим, есть строка 'password1234'. Применим хеш-функцию MD5 к ней. Результат: <i>bdc87b9c894da5168059e00ebffb9077</i></li>
  <li>Теперь представим, что к этой строке была добавлена последовательность символов: '2#;$72". Получилось: 'password12342#;$72'. Применим MD5 к этой строке.
    Результат: <i>dfc1c9b518499d54f95c607975c3c7e3</i>. Данный хеш подобрать не получится, т.к. в пароле присутствует соль.</li>
</ul>
-<br>
Вернемся к подбору значения MD5. Для этого мы будем использовать программу Hashcat. Когда вы ее запустите, с ключом -h, то увидите сотни хеш-сумм, с которыми программа умеет работать. В самом начале будет 'md5'. Этот режим имеет код 0. Тогда синтаксис команды будет выглядеть следующим образом:
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(240, 240, 240) none repeat scroll 0% 0%; color: rgb(68, 68, 68);">hashcat -m 0 -a 0 [md5] [/path/to/wordlist]</pre>, где [md5] - MD5 хеш-сумма (без скобок), [/path/to/wordlist] - путь к словарю паролей (без скобок). После запуска процесса через некоторое время пароль будет успешно подобран:
<img src="hashcat-md5.png"><br>
