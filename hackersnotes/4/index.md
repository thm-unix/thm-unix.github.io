<h1>(Bettercap, net-creds). MITM. Часть 1. Введение в атаку MITM. Перехват данных в локальной сети.</h1>

<b>Материал предоставлен в ознакомительных и образовательных целях.</b><br>

<b><i>Содержание</i></b><br>
<a href="#introduction">1. Введение. Требования.</a><br>
<a href="#introtomitm">2. Понятие атаки MITM.</a><br>
<a href="#prepare">3. Подготовка среды.</a><br>
<a href="#bettercap">4. Запускаем Bettercap.</a><br>
<a href="#netcreds">5. Запускаем net-creds.</a><br>
<a href="#example">6. Пример перехваченных данных.</a><br>
<a href="#end">8. Подведение итогов. Рекомендации по защите. Полезные ссылки.</a><br>

<p><a name="introduction"></a></p>
<h2>Введение. Требования.</h2>
Рад приветствовать читателей. В этой статье мы разберем что такое атака MITM, когда она применима
и попробуем ее произвести.
Требования:
<ul>
  <li>Иметь доступ к сети, в которой находится цель</li>
</ul>
<i>Примечание: </i> если у вас уже есть доступ к сети, вам не нужен Wi-Fi адаптер с поддержкой режима 
мониторинга. Главное быть просто подключенным к сети.

<p><a name="introtomitm"></a></p>
<h2>Понятие атаки MITM.</h2>
MITM (Man In The Middle - Человек Посередине) - атака, суть которой заключается в том, чтобы
встать посередине соединения цели с роутером и перехватывать данные. <br><br>

<img src="mitm-attack.png" width="40%" height="40%">

<b>Немного истории</b><br>
<ul>
  <li>
  Когда все сайты были по http://, атака MITM была очень эффективной, получалось перехватить все данные. <br>
Однако, для того, чтобы этому противостоять, был создан протокол https://, который подразумевает шифрование данных. Вроде бы проблема должна была быть
    решена, однако, никто принудительно не заставлял использовать https.</li>
  <li>В итоге получалось с помощью утилиты SSLStrip убрать букву s из https:// и получить http://, что снова позволяло перехватывать данные.</li>
<li>В противодействие этому был придуман HSTS. Он принудительно переводит на страницу по https:// (а если это невозможно, зайти на сайт не получится). Однако,
HSTS - это просто кука, которую пользователь должен каким-либо образом получить. Т.е., если пользователь
пользуется режимом инкогнито, либо очищает куки при закрытии браузера, либо посещает сайт первый раз,
  этой куки у него нет, и есть вероятность, что пользователь все равно попадет на http://. </li> 
  <li>Тогда последним 
шагом к защите пользователей от атаки MITM, стало включение во все браузеры списка сайтов, которые должны 
    открываться только по https://. Туда входят все крупные сайты. </li> 
</ul>

Проверить, выйдет ли у вас что-нибудь во время сегодняшней атаки, вы можете, введя желаемый адрес сайта здесь: 
<a href="https://hstspreload.org" target="_blank">hstspreload.org</a>
